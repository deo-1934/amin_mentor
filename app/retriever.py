import os
from app.settings import INDEX_DIR, DEFAULT_EMBED_MODEL

def retrieve(query: str):
    """
    ุชุงุจุน ุงุตู ุจุฑุง ุจุงุฒุงุจ ูพุงุณุฎ ุจุฑ ุงุณุงุณ ฺฉูุฆุฑ ฺฉุงุฑุจุฑ.
    ุฏุฑ ุงู ูุณุฎูโ ุงููู ููุท ฺฉ ูพุงุณุฎ ุชุณุช ุจุฑูโฺฏุฑุฏุงูุฏ ุชุง ุงุฑุชุจุงุท ุจู ูุงฺููโูุง ุจุฑุฑุณ ุดูุฏ.
    """

    # โ ุจุฑุฑุณ ุงูฺฉู ูุณุฑ ุงูุฏฺฉุณ ูุฌูุฏ ุฏุงุฑุฏ
    if not os.path.exists(INDEX_DIR):
        return f"โ ูุณุฑ ุงูุฏฺฉุณ '{INDEX_DIR}' ุงูุช ูุดุฏ. ูุทูุงู ุงูุฏฺฉุณ ุฑุง ุจุณุงุฒุฏ."

    # โ ูุนูุงู ูพุงุณุฎ ุชุณุช ุจุฑูโฺฏุฑุฏุงูู (ุฏุฑ ูุณุฎู ุจุนุฏ ุจุง FAISS ุฌุงฺฏุฒู ูโุดูุฏ)
    response = f"๐ ุฏุฑ ูพุงุณุฎ ุจู '{query}': ุงู ููุท ฺฉ ูพุงุณุฎ ุขุฒูุงุด ุงุฒ ุชุงุจุน retrieve ุงุณุช.\n"
    response += f"(ูุฏู ูุนู: {DEFAULT_EMBED_MODEL})"
    return response
